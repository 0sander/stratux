package main

import (
	"go.bug.st/serial.v1"
)

const (
	// BNO055 Page 0
	BNO055_CHIP_ID          = 0x00 // should be 0xA0
	BNO055_ACC_ID           = 0x01 // should be 0xFB
	BNO055_MAG_ID           = 0x02 // should be 0x32
	BNO055_GYR_ID           = 0x03 // should be 0x0F
	BNO055_SW_REV_ID_LSB    = 0x04
	BNO055_SW_REV_ID_MSB    = 0x05
	BNO055_BL_REV_ID        = 0x06
	BNO055_PAGE_ID          = 0x07
	BNO055_ACC_DATA_X_LSB   = 0x08
	BNO055_ACC_DATA_X_MSB   = 0x09
	BNO055_ACC_DATA_Y_LSB   = 0x0A
	BNO055_ACC_DATA_Y_MSB   = 0x0B
	BNO055_ACC_DATA_Z_LSB   = 0x0C
	BNO055_ACC_DATA_Z_MSB   = 0x0D
	BNO055_MAG_DATA_X_LSB   = 0x0E
	BNO055_MAG_DATA_X_MSB   = 0x0F
	BNO055_MAG_DATA_Y_LSB   = 0x10
	BNO055_MAG_DATA_Y_MSB   = 0x11
	BNO055_MAG_DATA_Z_LSB   = 0x12
	BNO055_MAG_DATA_Z_MSB   = 0x13
	BNO055_GYR_DATA_X_LSB   = 0x14
	BNO055_GYR_DATA_X_MSB   = 0x15
	BNO055_GYR_DATA_Y_LSB   = 0x16
	BNO055_GYR_DATA_Y_MSB   = 0x17
	BNO055_GYR_DATA_Z_LSB   = 0x18
	BNO055_GYR_DATA_Z_MSB   = 0x19
	BNO055_EUL_HEADING_LSB  = 0x1A
	BNO055_EUL_HEADING_MSB  = 0x1B
	BNO055_EUL_ROLL_LSB     = 0x1C
	BNO055_EUL_ROLL_MSB     = 0x1D
	BNO055_EUL_PITCH_LSB    = 0x1E
	BNO055_EUL_PITCH_MSB    = 0x1F
	BNO055_QUA_DATA_W_LSB   = 0x20
	BNO055_QUA_DATA_W_MSB   = 0x21
	BNO055_QUA_DATA_X_LSB   = 0x22
	BNO055_QUA_DATA_X_MSB   = 0x23
	BNO055_QUA_DATA_Y_LSB   = 0x24
	BNO055_QUA_DATA_Y_MSB   = 0x25
	BNO055_QUA_DATA_Z_LSB   = 0x26
	BNO055_QUA_DATA_Z_MSB   = 0x27
	BNO055_LIA_DATA_X_LSB   = 0x28
	BNO055_LIA_DATA_X_MSB   = 0x29
	BNO055_LIA_DATA_Y_LSB   = 0x2A
	BNO055_LIA_DATA_Y_MSB   = 0x2B
	BNO055_LIA_DATA_Z_LSB   = 0x2C
	BNO055_LIA_DATA_Z_MSB   = 0x2D
	BNO055_GRV_DATA_X_LSB   = 0x2E
	BNO055_GRV_DATA_X_MSB   = 0x2F
	BNO055_GRV_DATA_Y_LSB   = 0x30
	BNO055_GRV_DATA_Y_MSB   = 0x31
	BNO055_GRV_DATA_Z_LSB   = 0x32
	BNO055_GRV_DATA_Z_MSB   = 0x33
	BNO055_TEMP             = 0x34
	BNO055_CALIB_STAT       = 0x35
	BNO055_ST_RESULT        = 0x36
	BNO055_byte_STATUS      = 0x37
	BNO055_SYS_CLK_STATUS   = 0x38
	BNO055_SYS_STATUS       = 0x39
	BNO055_SYS_ERR          = 0x3A
	BNO055_UNIT_SEL         = 0x3B
	BNO055_OPR_MODE         = 0x3D
	BNO055_PWR_MODE         = 0x3E
	BNO055_SYS_TRIGGER      = 0x3F
	BNO055_TEMP_SOURCE      = 0x40
	BNO055_AXIS_MAP_CONFIG  = 0x41
	BNO055_AXIS_MAP_SIGN    = 0x42
	BNO055_ACC_OFFSET_X_LSB = 0x55
	BNO055_ACC_OFFSET_X_MSB = 0x56
	BNO055_ACC_OFFSET_Y_LSB = 0x57
	BNO055_ACC_OFFSET_Y_MSB = 0x58
	BNO055_ACC_OFFSET_Z_LSB = 0x59
	BNO055_ACC_OFFSET_Z_MSB = 0x5A
	BNO055_MAG_OFFSET_X_LSB = 0x5B
	BNO055_MAG_OFFSET_X_MSB = 0x5C
	BNO055_MAG_OFFSET_Y_LSB = 0x5D
	BNO055_MAG_OFFSET_Y_MSB = 0x5E
	BNO055_MAG_OFFSET_Z_LSB = 0x5F
	BNO055_MAG_OFFSET_Z_MSB = 0x60
	BNO055_GYR_OFFSET_X_LSB = 0x61
	BNO055_GYR_OFFSET_X_MSB = 0x62
	BNO055_GYR_OFFSET_Y_LSB = 0x63
	BNO055_GYR_OFFSET_Y_MSB = 0x64
	BNO055_GYR_OFFSET_Z_LSB = 0x65
	BNO055_GYR_OFFSET_Z_MSB = 0x66
	BNO055_ACC_RADIUS_LSB   = 0x67
	BNO055_ACC_RADIUS_MSB   = 0x68
	BNO055_MAG_RADIUS_LSB   = 0x69
	BNO055_MAG_RADIUS_MSB   = 0x6A

	// BNO055 Page 1
	// PAGE_ID = 0x07
	BNO055_ACC_CONFIG        = 0x08
	BNO055_MAG_CONFIG        = 0x09
	BNO055_GYRO_CONFIG_0     = 0x0A
	BNO055_GYRO_CONFIG_1     = 0x0B
	BNO055_ACC_SLEEP_CONFIG  = 0x0C
	BNO055_GYR_SLEEP_CONFIG  = 0x0D
	BNO055_byte_MSK          = 0x0F
	BNO055_byte_EN           = 0x10
	BNO055_ACC_AM_THRES      = 0x11
	BNO055_ACC_byte_SETTINGS = 0x12
	BNO055_ACC_HG_DURATION   = 0x13
	BNO055_ACC_HG_THRESH     = 0x14
	BNO055_ACC_NM_THRESH     = 0x15
	BNO055_ACC_NM_SET        = 0x16
	BNO055_GYR_byte_SETTINGS = 0x17
	BNO055_GYR_HR_X_SET      = 0x18
	BNO055_GYR_DUR_X         = 0x19
	BNO055_GYR_HR_Y_SET      = 0x1A
	BNO055_GYR_DUR_Y         = 0x1B
	BNO055_GYR_HR_Z_SET      = 0x1C
	BNO055_GYR_DUR_Z         = 0x1D
	BNO055_GYR_AM_THRESH     = 0x1E
	BNO055_GYR_AM_SET        = 0x1F
)

type Ascale byte

const ( // ACC Full Scale
	BNO055_AscaleAFS_2G  = 0
	BNO055_AscaleAFS_4G  = 1
	BNO055_AscaleAFS_8G  = 2
	BNO055_AscaleAFS_18G = 3
)

type BNO055_OPRMode byte // BNO-55 operation modes

const (
	BNO055_OPRModeCONFIGMODE = iota // 0x00
	// Sensor Mode
	BNO055_OPRModeACCONLY
	BNO055_OPRModeMAGONLY
	BNO055_OPRModeGYROONLY
	BNO055_OPRModeACCMAG
	BNO055_OPRModeACCGYRO
	BNO055_OPRModeMAGGYRO
	BNO055_OPRModeAMG // 0x07
	// Fusion Mode
	BNO055_OPRModeIMU
	BNO055_OPRModeCOMPASS
	BNO055_OPRModeM4G
	BNO055_OPRModeNDOF_FMC_OFF
	BNO055_OPRModeNDOF // 0x0C
)

type BNO055_ReadErrorB byte

const (
	BNO055_ReadErrorMIN                       = 0x01
	BNO055_ReadErrorREAD_FAIL                 = 0x02
	BNO055_ReadErrorREGMAP_INVALID_ADDRESS    = 0x04
	BNO055_ReadErrorREGMAP_WRITE_DISABLED     = 0x05
	BNO055_ReadErrorWRONG_START_BYTE          = 0x06
	BNO055_ReadErrorBUS_OVER_RUN_ERROR        = 0x07
	BNO055_ReadErrorMAX_LENGTH_ERROR          = 0x08
	BNO055_ReadErrorMIN_LENGTH_ERROR          = 0x09
	BNO055_ReadErrorRECEIVE_CHARACTER_TIMEOUT = 0x0A
	BNO055_ReadErrorMAX                       = 0x0A
)

type BNO055_WriteErrorB byte

const (
	BNO055_WriteErrorWRITE_SUCCESS             = 0x01
	BNO055_WriteErrorMIN                       = 0x03
	BNO055_WriteErrorWRITE_FAIL                = 0x03
	BNO055_WriteErrorREGMAP_INVALID_ADDRESS    = 0x04
	BNO055_WriteErrorREGMAP_WRITE_DISABLED     = 0x05
	BNO055_WriteErrorWRONG_START_BYTE          = 0x06
	BNO055_WriteErrorBUS_OVER_RUN_ERROR        = 0x07
	BNO055_WriteErrorMAX_LENGTH_ERROR          = 0x08
	BNO055_WriteErrorMIN_LENGTH_ERROR          = 0x09
	BNO055_WriteErrorRECEIVE_CHARACTER_TIMEOUT = 0x0A
	BNO055_WriteErrorMAX                       = 0x0A
)

// put here because the name 'serial' interferes with the other 'serial' package
func getPorts() ([]string, error) {
	//ports, err := serial.GetPortsList()
	return serial.GetPortsList()
	//return ports, err
}
